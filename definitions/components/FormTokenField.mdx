---
title: FormTokenField Component
component: FormTokenField
package: '@wordpress/components'
category: Form Controls
description: A multi-value token/tag input with autocomplete suggestions; used for keyword lists, taxonomy assignment, and multi-select from a large option set
---

# FormTokenField Component

`FormTokenField` renders a token (tag/chip) input where users can type and add multiple values, optionally with autocomplete suggestions. Use it for keyword lists, taxonomy pickers, allowed-values inputs, and any field where multiple values should be entered in a single control.

## Installation

This component is included in the `@wordpress/components` package, which is already available when using `@wordpress/create-block`.

## Required Imports

```javascript
import { FormTokenField } from '@wordpress/components';
```

## block.json Attributes

```json
{
	"attributes": {
		"keywords": {
			"type": "array",
			"default": []
		}
	}
}
```

## Basic Usage in edit.js

```javascript
import { __ } from '@wordpress/i18n';
import { useBlockProps, InspectorControls } from '@wordpress/block-editor';
import { PanelBody, FormTokenField } from '@wordpress/components';

export default function Edit( { attributes, setAttributes } ) {
	const blockProps = useBlockProps();
	const { keywords } = attributes;

	return (
		<>
			<InspectorControls>
				<PanelBody title={ __( 'Keywords', 'your-text-domain' ) }>
					<FormTokenField
						label={ __( 'Keywords', 'your-text-domain' ) }
						value={ keywords }
						onChange={ ( tokens ) => setAttributes( { keywords: tokens } ) }
						placeholder={ __( 'Add keyword…', 'your-text-domain' ) }
					/>
				</PanelBody>
			</InspectorControls>
			<div { ...blockProps }>
				{ keywords.length > 0 && (
					<ul>
						{ keywords.map( ( kw ) => (
							<li key={ kw }>{ kw }</li>
						) ) }
					</ul>
				) }
			</div>
		</>
	);
}
```

## With Autocomplete Suggestions (Static)

```javascript
import { __ } from '@wordpress/i18n';
import { useBlockProps, InspectorControls } from '@wordpress/block-editor';
import { PanelBody, FormTokenField } from '@wordpress/components';
import { useState } from '@wordpress/element';

const ALL_TAGS = [
	'WordPress', 'Gutenberg', 'Blocks', 'PHP', 'JavaScript',
	'React', 'CSS', 'HTML', 'API', 'Plugin', 'Theme',
	'Accessibility', 'Performance', 'Security',
];

export default function Edit( { attributes, setAttributes } ) {
	const blockProps = useBlockProps();
	const { tags } = attributes;
	const [ inputValue, setInputValue ] = useState( '' );

	const suggestions = ALL_TAGS.filter(
		( tag ) =>
			tag.toLowerCase().includes( inputValue.toLowerCase() ) &&
			! tags.includes( tag )
	);

	return (
		<>
			<InspectorControls>
				<PanelBody title={ __( 'Tags', 'your-text-domain' ) }>
					<FormTokenField
						label={ __( 'Select tags', 'your-text-domain' ) }
						value={ tags }
						suggestions={ suggestions }
						onInputChange={ setInputValue }
						onChange={ ( tokens ) => setAttributes( { tags: tokens } ) }
						maxSuggestions={ 8 }
						placeholder={ __( 'Type to search tags…', 'your-text-domain' ) }
					/>
				</PanelBody>
			</InspectorControls>
			<div { ...blockProps }>
				<div style={ { display: 'flex', gap: '8px', flexWrap: 'wrap' } }>
					{ tags.map( ( tag ) => (
						<span
							key={ tag }
							style={ { background: '#e0e0e0', padding: '2px 8px', borderRadius: '12px' } }
						>
							{ tag }
						</span>
					) ) }
				</div>
			</div>
		</>
	);
}
```

### block.json for tags

```json
{
	"attributes": {
		"tags": { "type": "array", "default": [] }
	}
}
```

## Async Suggestions from REST API

```javascript
import { __ } from '@wordpress/i18n';
import { useBlockProps, InspectorControls } from '@wordpress/block-editor';
import { PanelBody, FormTokenField, Spinner } from '@wordpress/components';
import { useState, useEffect, useRef } from '@wordpress/element';
import apiFetch from '@wordpress/api-fetch';

export default function Edit( { attributes, setAttributes } ) {
	const blockProps = useBlockProps();
	const { selectedTags } = attributes;
	const [ suggestions, setSuggestions ] = useState( [] );
	const [ isLoading, setIsLoading ] = useState( false );
	const debounceRef = useRef( null );

	const handleInputChange = ( search ) => {
		if ( debounceRef.current ) clearTimeout( debounceRef.current );
		if ( ! search.trim() ) { setSuggestions( [] ); return; }

		debounceRef.current = setTimeout( () => {
			setIsLoading( true );
			apiFetch( {
				path: `/wp/v2/tags?search=${ encodeURIComponent( search ) }&per_page=10&_fields=id,name`,
			} ).then( ( tags ) => {
				setSuggestions( tags.map( ( t ) => t.name ) );
				setIsLoading( false );
			} ).catch( () => setIsLoading( false ) );
		}, 300 );
	};

	return (
		<>
			<InspectorControls>
				<PanelBody title={ __( 'Tags', 'your-text-domain' ) }>
					<FormTokenField
						label={ __( 'Post tags', 'your-text-domain' ) }
						value={ selectedTags }
						suggestions={ suggestions }
						onInputChange={ handleInputChange }
						onChange={ ( tokens ) => setAttributes( { selectedTags: tokens } ) }
						placeholder={ __( 'Search tags…', 'your-text-domain' ) }
					/>
					{ isLoading && <Spinner /> }
				</PanelBody>
			</InspectorControls>
			<div { ...blockProps }>
				{ __( 'Posts filtered by tags', 'your-text-domain' ) }
			</div>
		</>
	);
}
```

### block.json for async tags

```json
{
	"attributes": {
		"selectedTags": { "type": "array", "default": [] }
	}
}
```

## FormTokenField with Max Tokens

```javascript
import { __ } from '@wordpress/i18n';
import { useBlockProps, InspectorControls } from '@wordpress/block-editor';
import { PanelBody, FormTokenField, Notice } from '@wordpress/components';

const MAX_FEATURES = 5;
const FEATURE_SUGGESTIONS = [
	'Dark Mode', 'Lazy Loading', 'Infinite Scroll',
	'Search', 'Filters', 'Sorting', 'Export', 'Import',
	'Notifications', 'Analytics',
];

export default function Edit( { attributes, setAttributes } ) {
	const blockProps = useBlockProps();
	const { features } = attributes;
	const atLimit = features.length >= MAX_FEATURES;

	return (
		<>
			<InspectorControls>
				<PanelBody title={ __( 'Features', 'your-text-domain' ) }>
					{ atLimit && (
						<Notice status="info" isDismissible={ false }>
							{ __( 'Maximum of 5 features reached.', 'your-text-domain' ) }
						</Notice>
					) }
					<FormTokenField
						label={ __( `Features (max ${ MAX_FEATURES })`, 'your-text-domain' ) }
						value={ features }
						suggestions={ FEATURE_SUGGESTIONS.filter( ( f ) => ! features.includes( f ) ) }
						maxLength={ MAX_FEATURES }
						onChange={ ( tokens ) => setAttributes( { features: tokens } ) }
						placeholder={ atLimit ? '' : __( 'Add feature…', 'your-text-domain' ) }
					/>
				</PanelBody>
			</InspectorControls>
			<div { ...blockProps }>
				<ul>
					{ features.map( ( f ) => <li key={ f }>{ f }</li> ) }
				</ul>
			</div>
		</>
	);
}
```

## save.js

```javascript
import { useBlockProps } from '@wordpress/block-editor';

export default function save( { attributes } ) {
	const blockProps = useBlockProps.save();
	const { keywords, tags } = attributes;

	return (
		<div { ...blockProps }>
			{ keywords && keywords.length > 0 && (
				<ul className="keywords-list">
					{ keywords.map( ( kw ) => (
						<li key={ kw }>{ kw }</li>
					) ) }
				</ul>
			) }
			{ tags && tags.length > 0 && (
				<div className="tag-list">
					{ tags.map( ( tag ) => (
						<span key={ tag } className="tag">{ tag }</span>
					) ) }
				</div>
			) }
		</div>
	);
}
```

## Props Reference

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `label` | string | - | Visible label above the input |
| `value` | array | `[]` | Array of current token strings |
| `onChange` | function | - | Callback receiving the updated array of tokens |
| `suggestions` | array | `[]` | Array of suggestion strings for autocomplete |
| `onInputChange` | function | - | Callback receiving the current text input value |
| `placeholder` | string | - | Placeholder text when no tokens and no input |
| `maxLength` | number | - | Maximum number of tokens allowed |
| `maxSuggestions` | number | `100` | Maximum number of suggestions shown in dropdown |
| `saveTransform` | function | - | Transform token string before saving (e.g. trim whitespace) |
| `displayTransform` | function | - | Transform token string for display only |
| `tokenizeOnBlur` | boolean | `false` | Auto-create a token when input loses focus |
| `tokenizeOnSpace` | boolean | `false` | Auto-create a token when space is pressed |
| `disabled` | boolean | `false` | Disables all interaction |
| `className` | string | - | Additional CSS classes |
| `messages` | object | - | Override default accessibility messages |

## Common Use Cases

1. **Keyword/tag lists**: Manual or autocomplete keyword entry
2. **Taxonomy assignment**: Assign categories or custom taxonomy terms
3. **Allowed values**: Define which values are permitted in a block feature
4. **Email recipients**: Multi-email input with validation
5. **Related posts**: Enter post IDs or titles for manual relationships

## Accessibility

- Renders as a combobox pattern with `aria-autocomplete="list"` when suggestions are provided
- Tokens are displayed as removable chips with individual "×" remove buttons
- Each remove button has an accessible label (`Remove <token>`)
- Keyboard: Enter or comma creates a token, Backspace removes the last token

## WordPress Standards

- Import from `@wordpress/components`
- Store values as a `type: "array"` attribute with `"default": []`
- Use `onInputChange` + `suggestions` for autocomplete — never filter in `onChange`
- Use `saveTransform` to normalize tokens (e.g. `( token ) => token.trim().toLowerCase()`)
- Debounce API calls in `onInputChange` handlers to avoid excessive requests
