import Spacer from '../components/Spacer';
import TextControl from '../components/TextControl';
import RangeControl from '../components/RangeControl';
import Button from '../components/Button';
import Flex, { FlexItem } from '../components/Flex';
import { useLocalStorage } from '../hooks/useLocalStorage';

export const VerticalSpacingDemo = () => {
  const [title, setTitle] = useLocalStorage('demo-spacer-title', '');
  const [columns, setColumns] = useLocalStorage('demo-spacer-columns', 3);
  return (
    <div style={{ padding: '1rem', background: '#f8fafc', borderRadius: '0.375rem' }}>
      <TextControl
        label="Title"
        value={title}
        onChange={setTitle}
        placeholder="Enter title..."
      />
      <Spacer marginY={3} />
      <RangeControl
        label="Columns"
        value={columns}
        onChange={setColumns}
        min={1}
        max={6}
      />
    </div>
  );
};

export const HorizontalSpacingDemo = () => {
  return (
    <div style={{ padding: '1rem', background: '#f8fafc', borderRadius: '0.375rem' }}>
      <Flex>
        <FlexItem>
          <Button variant="secondary">Cancel</Button>
        </FlexItem>
        <Spacer marginX={2} />
        <FlexItem>
          <Button variant="primary">Apply</Button>
        </FlexItem>
      </Flex>
    </div>
  );
};

export const DirectionalSpacingDemo = () => {
  const [label, setLabel] = useLocalStorage('demo-spacer-label', '');
  const [sublabel, setSublabel] = useLocalStorage('demo-spacer-sublabel', '');
  return (
    <div style={{ padding: '1rem', background: '#f8fafc', borderRadius: '0.375rem' }}>
      <TextControl
        label="Main Label"
        value={label}
        onChange={setLabel}
        placeholder="Main label..."
      />
      <Spacer marginBottom={5} marginTop={2} />
      <TextControl
        label="Sublabel"
        value={sublabel}
        onChange={setSublabel}
        placeholder="Sublabel..."
      />
    </div>
  );
};

# Spacer

A flexible spacing utility that adds controlled vertical or horizontal gap between elements in sidebar panels and editor UI layouts. All spacing values use the WordPress grid-unit system (1 unit = 4px). Mirrors the WordPress [`Spacer`](https://developer.wordpress.org/block-editor/reference-guides/components/spacer/) from `@wordpress/components`.

## Vertical Spacing

<VerticalSpacingDemo />

```jsx
<TextControl
  label="Title"
  value={title}
  onChange={(value) => setAttributes({ title: value })}
/>

<Spacer marginY={3} />

<RangeControl
  label="Columns"
  value={columns}
  onChange={(value) => setAttributes({ columns: value })}
  min={1}
  max={6}
/>
```

## Horizontal Spacing

<HorizontalSpacingDemo />

```jsx
<Flex>
  <FlexItem>
    <Button variant="secondary">Cancel</Button>
  </FlexItem>
  <Spacer marginX={2} />
  <FlexItem>
    <Button variant="primary">Apply</Button>
  </FlexItem>
</Flex>
```

## Directional Spacing

<DirectionalSpacingDemo />

```jsx
<TextControl
  label="Main Label"
  value={label}
  onChange={(value) => setAttributes({ label: value })}
/>

<Spacer marginBottom={5} marginTop={2} />

<TextControl
  label="Sublabel"
  value={sublabel}
  onChange={(value) => setAttributes({ sublabel: value })}
/>
```

## WordPress Usage (edit.js)

```jsx
import { __ } from '@wordpress/i18n';
import { Spacer, TextControl, RangeControl, PanelBody } from '@wordpress/components';
import { InspectorControls, useBlockProps } from '@wordpress/block-editor';

export default function Edit( { attributes, setAttributes } ) {
  const blockProps = useBlockProps();
  const { title, columns } = attributes;

  return (
    <>
      <InspectorControls>
        <PanelBody title={ __( 'Settings', 'your-text-domain' ) }>
          <TextControl
            label={ __( 'Title', 'your-text-domain' ) }
            value={ title }
            onChange={ ( value ) => setAttributes( { title: value } ) }
          />

          <Spacer marginY={ 3 } />

          <RangeControl
            label={ __( 'Columns', 'your-text-domain' ) }
            value={ columns }
            onChange={ ( value ) => setAttributes( { columns: value } ) }
            min={ 1 }
            max={ 6 }
          />
        </PanelBody>
      </InspectorControls>

      <div { ...blockProps }>
        <p>{ __( 'Block content.', 'your-text-domain' ) }</p>
      </div>
    </>
  );
}
```

## Props

<PropsTable props={[
  {
    name: 'marginY',
    type: 'number',
    required: false,
    default: '',
    description: 'Vertical margin (top + bottom) in grid units (1 unit = 4px).'
  },
  {
    name: 'marginX',
    type: 'number',
    required: false,
    default: '',
    description: 'Horizontal margin (left + right) in grid units (1 unit = 4px).'
  },
  {
    name: 'marginTop',
    type: 'number',
    required: false,
    default: '',
    description: 'Top margin in grid units (1 unit = 4px).'
  },
  {
    name: 'marginBottom',
    type: 'number',
    required: false,
    default: '',
    description: 'Bottom margin in grid units (1 unit = 4px).'
  },
  {
    name: 'marginLeft',
    type: 'number',
    required: false,
    default: '',
    description: 'Left margin in grid units (1 unit = 4px).'
  },
  {
    name: 'marginRight',
    type: 'number',
    required: false,
    default: '',
    description: 'Right margin in grid units (1 unit = 4px).'
  },
  {
    name: 'className',
    type: 'string',
    required: false,
    default: '',
    description: 'Additional CSS class names.'
  }
]} />

## WordPress Mapping

`Spacer` is used throughout the WordPress block editor to insert visual breathing room without manually setting margins or padding. All spacing values use the grid-unit system where 1 unit = 4px.
