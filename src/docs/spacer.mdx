import Spacer from '../components/Spacer';
import RangeControl from '../components/RangeControl';
import Button from '../components/Button';
import Flex, { FlexItem } from '../components/Flex';
import { useLocalStorage } from '../hooks/useLocalStorage';

export const VerticalSpacingDemo = () => {
  const [spacing, setSpacing] = useLocalStorage('demo-spacer-vertical', 3);
  const blockStyle = { padding: '1rem', background: '#e2e8f0', borderRadius: '0.25rem', textAlign: 'center', fontSize: '0.875rem', color: '#475569' };
  return (
    <div style={{ padding: '1rem', background: '#f8fafc', borderRadius: '0.375rem' }}>
      <RangeControl
        label="Vertical spacing (grid units)"
        value={spacing}
        onChange={setSpacing}
        min={0}
        max={10}
      />
      <div style={{ marginTop: '1rem' }}>
        <div style={blockStyle}>Element A</div>
        <Spacer marginY={spacing} />
        <div style={blockStyle}>Element B</div>
      </div>
    </div>
  );
};

export const HorizontalSpacingDemo = () => {
  const [spacing, setSpacing] = useLocalStorage('demo-spacer-horizontal', 2);
  return (
    <div style={{ padding: '1rem', background: '#f8fafc', borderRadius: '0.375rem' }}>
      <RangeControl
        label="Horizontal spacing (grid units)"
        value={spacing}
        onChange={setSpacing}
        min={0}
        max={10}
      />
      <div style={{ marginTop: '1rem' }}>
        <Flex>
          <FlexItem>
            <Button variant="secondary">Cancel</Button>
          </FlexItem>
          <Spacer marginX={spacing} />
          <FlexItem>
            <Button variant="primary">Apply</Button>
          </FlexItem>
        </Flex>
      </div>
    </div>
  );
};

export const DirectionalSpacingDemo = () => {
  const [topSpacing, setTopSpacing] = useLocalStorage('demo-spacer-top', 2);
  const [bottomSpacing, setBottomSpacing] = useLocalStorage('demo-spacer-bottom', 5);
  const blockStyle = { padding: '1rem', background: '#e2e8f0', borderRadius: '0.25rem', textAlign: 'center', fontSize: '0.875rem', color: '#475569' };
  return (
    <div style={{ padding: '1rem', background: '#f8fafc', borderRadius: '0.375rem' }}>
      <RangeControl
        label="Top spacing (grid units)"
        value={topSpacing}
        onChange={setTopSpacing}
        min={0}
        max={10}
      />
      <RangeControl
        label="Bottom spacing (grid units)"
        value={bottomSpacing}
        onChange={setBottomSpacing}
        min={0}
        max={10}
      />
      <div style={{ marginTop: '1rem' }}>
        <div style={blockStyle}>Above</div>
        <Spacer marginTop={topSpacing} marginBottom={bottomSpacing} />
        <div style={blockStyle}>Below</div>
      </div>
    </div>
  );
};

# Spacer

A flexible spacing utility that adds controlled vertical or horizontal gap between elements in sidebar panels and editor UI layouts. All spacing values use the WordPress grid-unit system (1 unit = 4px). Mirrors the WordPress [`Spacer`](https://developer.wordpress.org/block-editor/reference-guides/components/spacer/) from `@wordpress/components`.

## Vertical Spacing

<VerticalSpacingDemo />

```jsx
<div>
  <p>Element A</p>
  <Spacer marginY={3} />
  <p>Element B</p>
</div>
```

## Horizontal Spacing

<HorizontalSpacingDemo />

```jsx
<Flex>
  <FlexItem>
    <Button variant="secondary">Cancel</Button>
  </FlexItem>
  <Spacer marginX={2} />
  <FlexItem>
    <Button variant="primary">Apply</Button>
  </FlexItem>
</Flex>
```

## Directional Spacing

<DirectionalSpacingDemo />

```jsx
<div>
  <p>Above</p>
  <Spacer marginTop={2} marginBottom={5} />
  <p>Below</p>
</div>
```

## WordPress Usage (edit.js)

```jsx
import { __ } from '@wordpress/i18n';
import { Spacer, TextControl, RangeControl, PanelBody } from '@wordpress/components';
import { InspectorControls, useBlockProps } from '@wordpress/block-editor';

export default function Edit( { attributes, setAttributes } ) {
  const blockProps = useBlockProps();
  const { title, columns } = attributes;

  return (
    <>
      <InspectorControls>
        <PanelBody title={ __( 'Settings', 'your-text-domain' ) }>
          <TextControl
            label={ __( 'Title', 'your-text-domain' ) }
            value={ title }
            onChange={ ( value ) => setAttributes( { title: value } ) }
          />

          <Spacer marginY={ 3 } />

          <RangeControl
            label={ __( 'Columns', 'your-text-domain' ) }
            value={ columns }
            onChange={ ( value ) => setAttributes( { columns: value } ) }
            min={ 1 }
            max={ 6 }
          />
        </PanelBody>
      </InspectorControls>

      <div { ...blockProps }>
        <p>{ __( 'Block content.', 'your-text-domain' ) }</p>
      </div>
    </>
  );
}
```

## Props

<PropsTable props={[
  {
    name: 'marginY',
    type: 'number',
    required: false,
    default: '',
    description: 'Vertical margin (top + bottom) in grid units (1 unit = 4px).'
  },
  {
    name: 'marginX',
    type: 'number',
    required: false,
    default: '',
    description: 'Horizontal margin (left + right) in grid units (1 unit = 4px).'
  },
  {
    name: 'marginTop',
    type: 'number',
    required: false,
    default: '',
    description: 'Top margin in grid units (1 unit = 4px).'
  },
  {
    name: 'marginBottom',
    type: 'number',
    required: false,
    default: '',
    description: 'Bottom margin in grid units (1 unit = 4px).'
  },
  {
    name: 'marginLeft',
    type: 'number',
    required: false,
    default: '',
    description: 'Left margin in grid units (1 unit = 4px).'
  },
  {
    name: 'marginRight',
    type: 'number',
    required: false,
    default: '',
    description: 'Right margin in grid units (1 unit = 4px).'
  },
  {
    name: 'className',
    type: 'string',
    required: false,
    default: '',
    description: 'Additional CSS class names.'
  }
]} />

## WordPress Mapping

`Spacer` is used throughout the WordPress block editor to insert visual breathing room without manually setting margins or padding. All spacing values use the grid-unit system where 1 unit = 4px.
