import ButtonGroup from '../components/ButtonGroup';
import Button from '../components/Button';
import { useLocalStorage } from '../hooks/useLocalStorage';

export const AlignmentDemo = () => {
  const [alignment, setAlignment] = useLocalStorage('demo-button-group-alignment', 'left');
  return (
    <div>
      <p style={{ marginBottom: '0.5rem', fontSize: '0.875rem', fontWeight: '500' }}>Alignment</p>
      <ButtonGroup>
        <Button
          variant={alignment === 'left' ? 'primary' : 'secondary'}
          onClick={() => setAlignment('left')}
        >
          Left
        </Button>
        <Button
          variant={alignment === 'center' ? 'primary' : 'secondary'}
          onClick={() => setAlignment('center')}
        >
          Center
        </Button>
        <Button
          variant={alignment === 'right' ? 'primary' : 'secondary'}
          onClick={() => setAlignment('right')}
        >
          Right
        </Button>
      </ButtonGroup>
      <div style={{
        marginTop: '0.75rem',
        padding: '1rem',
        background: '#f8fafc',
        border: '1px solid #e2e8f0',
        borderRadius: '0.375rem',
        textAlign: alignment,
      }}>
        Preview text with {alignment} alignment
      </div>
    </div>
  );
};

export const ViewModeDemo = () => {
  const [displayMode, setDisplayMode] = useLocalStorage('demo-button-group-view', 'list');
  return (
    <div>
      <p style={{ marginBottom: '0.5rem', fontSize: '0.875rem', fontWeight: '500' }}>Display Mode</p>
      <ButtonGroup>
        <Button
          variant={displayMode === 'list' ? 'primary' : 'secondary'}
          onClick={() => setDisplayMode('list')}
        >
          ðŸ“‹ List
        </Button>
        <Button
          variant={displayMode === 'grid' ? 'primary' : 'secondary'}
          onClick={() => setDisplayMode('grid')}
        >
          âŠž Grid
        </Button>
      </ButtonGroup>
      <div style={{
        marginTop: '0.75rem',
        padding: '1rem',
        background: '#f8fafc',
        border: '1px solid #e2e8f0',
        borderRadius: '0.375rem',
      }}>
        Current mode: <strong>{displayMode}</strong>
      </div>
    </div>
  );
};

# ButtonGroup

Groups related buttons visually into a single cohesive unit with no gap between them. Used for mutually exclusive or closely related actions. Mirrors the WordPress [`ButtonGroup`](https://developer.wordpress.org/block-editor/reference-guides/components/button-group/) from `@wordpress/components`.

## Alignment Selection

<AlignmentDemo />

```jsx
<ButtonGroup>
  <Button
    variant={alignment === 'left' ? 'primary' : 'secondary'}
    onClick={() => setAttributes({ alignment: 'left' })}
  >
    Left
  </Button>
  <Button
    variant={alignment === 'center' ? 'primary' : 'secondary'}
    onClick={() => setAttributes({ alignment: 'center' })}
  >
    Center
  </Button>
  <Button
    variant={alignment === 'right' ? 'primary' : 'secondary'}
    onClick={() => setAttributes({ alignment: 'right' })}
  >
    Right
  </Button>
</ButtonGroup>
```

## Icon Button Group

<ViewModeDemo />

```jsx
<ButtonGroup>
  <Button
    variant={displayMode === 'list' ? 'primary' : 'secondary'}
    onClick={() => setAttributes({ displayMode: 'list' })}
  >
    ðŸ“‹ List
  </Button>
  <Button
    variant={displayMode === 'grid' ? 'primary' : 'secondary'}
    onClick={() => setAttributes({ displayMode: 'grid' })}
  >
    âŠž Grid
  </Button>
</ButtonGroup>
```

## WordPress Usage (edit.js)

```jsx
import { __ } from '@wordpress/i18n';
import { ButtonGroup, Button, PanelBody } from '@wordpress/components';
import { InspectorControls, useBlockProps } from '@wordpress/block-editor';

export default function Edit( { attributes, setAttributes } ) {
  const blockProps = useBlockProps();
  const { alignment } = attributes;

  return (
    <>
      <InspectorControls>
        <PanelBody title={ __( 'Layout', 'your-text-domain' ) }>
          <p>{ __( 'Alignment', 'your-text-domain' ) }</p>
          <ButtonGroup>
            <Button
              variant={ alignment === 'left' ? 'primary' : 'secondary' }
              onClick={ () => setAttributes( { alignment: 'left' } ) }
            >
              { __( 'Left', 'your-text-domain' ) }
            </Button>
            <Button
              variant={ alignment === 'center' ? 'primary' : 'secondary' }
              onClick={ () => setAttributes( { alignment: 'center' } ) }
            >
              { __( 'Center', 'your-text-domain' ) }
            </Button>
            <Button
              variant={ alignment === 'right' ? 'primary' : 'secondary' }
              onClick={ () => setAttributes( { alignment: 'right' } ) }
            >
              { __( 'Right', 'your-text-domain' ) }
            </Button>
          </ButtonGroup>
        </PanelBody>
      </InspectorControls>

      <div { ...blockProps } style={ { textAlign: alignment } }>
        <p>{ __( 'Block content.', 'your-text-domain' ) }</p>
      </div>
    </>
  );
}
```

## Props

<PropsTable props={[
  {
    name: 'className',
    type: 'string',
    required: false,
    default: '',
    description: 'Additional CSS class names.'
  },
  {
    name: 'children',
    type: 'ReactNode',
    required: true,
    default: '',
    description: 'Button components to group.'
  }
]} />

## WordPress Mapping

For selecting one value from a set of options, consider `ToggleGroupControl` instead â€” it has built-in selection state. `ButtonGroup` is for visually grouping `Button` components with explicit `isPressed` or other state management.
