import Tabs from '../components/Tabs';
import TextControl from '../components/TextControl';
import RangeControl from '../components/RangeControl';
import ToggleControl from '../components/ToggleControl';
import { useLocalStorage } from '../hooks/useLocalStorage';

export const BasicDemo = () => {
  const [title, setTitle] = useLocalStorage('demo-tabs-title', '');
  const [columns, setColumns] = useLocalStorage('demo-tabs-columns', 3);
  const [showBorder, setShowBorder] = useLocalStorage('demo-tabs-border', false);
  const [borderRadius, setBorderRadius] = useLocalStorage('demo-tabs-radius', 8);

  return (
    <div>
      <Tabs defaultTab="general">
        <Tabs.TabList>
          <Tabs.Tab tabId="general">General</Tabs.Tab>
          <Tabs.Tab tabId="style">Style</Tabs.Tab>
          <Tabs.Tab tabId="advanced">Advanced</Tabs.Tab>
        </Tabs.TabList>

        <Tabs.TabPanel tabId="general">
          <div style={{ padding: '1rem', background: '#f8fafc', borderRadius: '0.375rem' }}>
            <TextControl
              label="Title"
              value={title}
              onChange={setTitle}
              placeholder="Enter title..."
            />
            <div style={{ marginTop: '1rem' }}>
              <RangeControl
                label="Columns"
                value={columns}
                onChange={setColumns}
                min={1}
                max={6}
              />
            </div>
          </div>
        </Tabs.TabPanel>

        <Tabs.TabPanel tabId="style">
          <div style={{ padding: '1rem', background: '#f8fafc', borderRadius: '0.375rem' }}>
            <ToggleControl
              label="Show Border"
              checked={showBorder}
              onChange={setShowBorder}
            />
            {showBorder && (
              <div style={{ marginTop: '1rem' }}>
                <RangeControl
                  label="Border Radius"
                  value={borderRadius}
                  onChange={setBorderRadius}
                  min={0}
                  max={24}
                />
              </div>
            )}
          </div>
        </Tabs.TabPanel>

        <Tabs.TabPanel tabId="advanced">
          <div style={{ padding: '1rem', background: '#f8fafc', borderRadius: '0.375rem' }}>
            <p style={{ margin: 0, color: '#64748b' }}>Advanced settings would go here.</p>
          </div>
        </Tabs.TabPanel>
      </Tabs>

      {(title || showBorder) && (
        <div style={{
          marginTop: '0.75rem',
          padding: '1rem',
          background: '#fff',
          border: showBorder ? `1px solid #e2e8f0` : 'none',
          borderRadius: showBorder ? `${borderRadius}px` : '0',
        }}>
          <strong>{title || 'Preview'}</strong>
          <div style={{ marginTop: '0.5rem', fontSize: '0.875rem', color: '#64748b' }}>
            Columns: {columns}
          </div>
        </div>
      )}
    </div>
  );
};

# Tabs

A modern slot-based tab component using Tabs.TabList, Tabs.Tab, and Tabs.TabPanel sub-components. The successor to TabPanel with a more composable API. Introduced in WordPress 6.4+. Mirrors the WordPress [`Tabs`](https://developer.wordpress.org/block-editor/reference-guides/components/tabs/) from `@wordpress/components`.

## Basic Usage

<BasicDemo />

```jsx
<Tabs defaultTab="general">
  <Tabs.TabList>
    <Tabs.Tab tabId="general">General</Tabs.Tab>
    <Tabs.Tab tabId="style">Style</Tabs.Tab>
    <Tabs.Tab tabId="advanced">Advanced</Tabs.Tab>
  </Tabs.TabList>

  <Tabs.TabPanel tabId="general">
    <TextControl
      label="Title"
      value={title}
      onChange={(value) => setAttributes({ title: value })}
    />
    <RangeControl
      label="Columns"
      value={columns}
      onChange={(value) => setAttributes({ columns: value })}
      min={1}
      max={6}
    />
  </Tabs.TabPanel>

  <Tabs.TabPanel tabId="style">
    <ToggleControl
      label="Show Border"
      checked={showBorder}
      onChange={(value) => setAttributes({ showBorder: value })}
    />
  </Tabs.TabPanel>

  <Tabs.TabPanel tabId="advanced">
    <p>Advanced settings here.</p>
  </Tabs.TabPanel>
</Tabs>
```

## WordPress Usage (edit.js)

```jsx
import { __ } from '@wordpress/i18n';
import { Tabs, TextControl, RangeControl, ToggleControl } from '@wordpress/components';
import { InspectorControls, useBlockProps } from '@wordpress/block-editor';

export default function Edit( { attributes, setAttributes } ) {
  const blockProps = useBlockProps();
  const { title, columns, showBorder, borderRadius } = attributes;

  return (
    <>
      <InspectorControls>
        <Tabs>
          <Tabs.TabList>
            <Tabs.Tab tabId="general">
              { __( 'General', 'your-text-domain' ) }
            </Tabs.Tab>
            <Tabs.Tab tabId="style">
              { __( 'Style', 'your-text-domain' ) }
            </Tabs.Tab>
          </Tabs.TabList>

          <Tabs.TabPanel tabId="general">
            <TextControl
              label={ __( 'Title', 'your-text-domain' ) }
              value={ title }
              onChange={ ( value ) => setAttributes( { title: value } ) }
            />
            <RangeControl
              label={ __( 'Columns', 'your-text-domain' ) }
              value={ columns }
              onChange={ ( value ) => setAttributes( { columns: value } ) }
              min={ 1 }
              max={ 6 }
            />
          </Tabs.TabPanel>

          <Tabs.TabPanel tabId="style">
            <ToggleControl
              label={ __( 'Show Border', 'your-text-domain' ) }
              checked={ showBorder }
              onChange={ ( value ) => setAttributes( { showBorder: value } ) }
            />
            { showBorder && (
              <RangeControl
                label={ __( 'Border Radius', 'your-text-domain' ) }
                value={ borderRadius }
                onChange={ ( value ) => setAttributes( { borderRadius: value } ) }
                min={ 0 }
                max={ 24 }
              />
            ) }
          </Tabs.TabPanel>
        </Tabs>
      </InspectorControls>

      <div { ...blockProps }>
        <p>{ __( 'Block content.', 'your-text-domain' ) }</p>
      </div>
    </>
  );
}
```

## Props

### Tabs

<PropsTable props={[
  {
    name: 'defaultTab',
    type: 'string',
    required: false,
    default: '',
    description: 'Default selected tab ID. If not provided, first tab is selected.'
  },
  {
    name: 'className',
    type: 'string',
    required: false,
    default: '',
    description: 'Additional CSS class names.'
  },
  {
    name: 'children',
    type: 'ReactNode',
    required: true,
    default: '',
    description: 'TabList and TabPanel components.'
  }
]} />

### Tabs.Tab

<PropsTable props={[
  {
    name: 'tabId',
    type: 'string',
    required: true,
    default: '',
    description: 'Unique identifier for the tab.'
  },
  {
    name: 'children',
    type: 'ReactNode',
    required: true,
    default: '',
    description: 'Tab label text or content.'
  }
]} />

### Tabs.TabPanel

<PropsTable props={[
  {
    name: 'tabId',
    type: 'string',
    required: true,
    default: '',
    description: 'Matches the corresponding Tab tabId.'
  },
  {
    name: 'children',
    type: 'ReactNode',
    required: true,
    default: '',
    description: 'Panel content.'
  }
]} />

## WordPress Mapping

**Note:** `Tabs` and `TabPanel` (older) are different components. `Tabs` uses a slot-based architecture with sub-components, while `TabPanel` accepts a `tabs` array. Use `Tabs` for new development in WordPress 6.4+.
